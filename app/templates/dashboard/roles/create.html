<!-- Fondo del Modal (Backdrop) -->
<div class="modal-overlay" id="createRoleModal" style="display: none;">

  <!-- Contenedor del Modal -->
  <div class="modal-container">

    <!-- Elementos Decorativos de Esquina -->
    <div class="corner-bracket tl"></div>
    <div class="corner-bracket tr"></div>
    <div class="corner-bracket bl"></div>
    <div class="corner-bracket br"></div>

    <!-- Escáner Láser Decorativo (Animado) -->
    <div class="modal-laser-line"></div>

    <!-- Contenido del Formulario -->
    <div class="modal-content">

      <header class="modal-header">
        <div class="header-main">
          <span class="status-indicator"></span>
          <h2>INYECTAR_NUEVO_ROL</h2>
        </div>
        <p class="header-subtitle">REESCRIBIENDO_MATRIZ_DE_PODER_v4.2</p>
      </header>

      <!-- Agregamos action y method para que funcione con Flask -->
      <form class="injection-form" action="{{ url_for('roles.create') }}" method="POST">

        <!-- Campo: Nombre del Rol -->
        <div class="input-group">
          <label><span class="label-icon">fingerprint</span> ETIQUETA_IDENTIDAD</label>
          <!-- Agregamos name="nombre_de_rol" -->
          <input type="text" name="nombre_de_rol" placeholder="Ej: VOID_WALKER" required>
          <div class="input-focus-line"></div>
        </div>

        <!-- Campo: Especialidad -->
        <div class="input-group">
          <label><span class="label-icon">psychology</span> ESPECIALIZACIÓN_NEURAL</label>
          <!-- Agregamos name, list y el datalist -->
          <input type="text" name="especialidad_de_rol" list="especialidades_list" placeholder="Ej: KINETIC_OVERLOAD" required>
          <datalist id="especialidades_list">
              {% for especialidad in especialidad_enum %}
                  <option value="{{ especialidad.titulo }}">{{ especialidad.titulo }}</option>
              {% endfor %}
          </datalist>
        </div>

        <!-- Fila de Configuración -->
{#        <div class="form-row">#}
{#          <!-- Nivel de Acceso -->#}
{#          <div class="input-group">#}
{#            <label>NIVEL_ACCESO [0-99]</label>#}
{#            <input type="number" min="0" max="99" value="10">#}
{#          </div>#}
{##}
{#          <!-- Selector de Color (Firma) -->#}
{#          <div class="input-group">#}
{#            <label>FIRMA_CROMÁTICA</label>#}
{#            <div class="color-picker-wrapper">#}
{#              <input type="color" value="#a3ff00">#}
{#            </div>#}
{#          </div>#}
{#        </div>#}

        <!-- Descripción -->
        <div class="input-group">
          <label>DIRECTIVA_DE_COMPORTAMIENTO</label>
          <!-- Agregamos name y readonly -->
          <textarea name="descripcion_de_rol" placeholder="Se asignará automáticamente según la especialidad..." readonly></textarea>
        </div>

        <!-- Botones de Acción -->
        <div class="modal-actions">
          <button type="button" class="btn-cancel" onclick="toggleModal('createRoleModal')">ABORTAR_PROCESO</button>
          <button type="submit" class="btn-submit">
            <span class="btn-glow"></span>
            CONFIRMAR_INYECCIÓN
          </button>
        </div>

      </form>
    </div>
  </div>
</div>